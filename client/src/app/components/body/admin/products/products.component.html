<section class="center-content">
  <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm)">
    <h1>Product management</h1>
    <input #_id="ngModel" [(ngModel)]="product._id" type="hidden" name="_id">
    <input #name="ngModel" [(ngModel)]="product.name" type="text" name="name" placeholder="Name" required>
    <span>
      <label>Price: </label>
      <input #price="ngModel" [(ngModel)]="product.price" type="number" name="price" min="0" [pattern]="NotNegativeNumberRegex" required>
    </span>
    <span>
      <label>Quantity Imported: </label>
      <input #quantityImported="ngModel" [(ngModel)]="product.quantity.imported" type="number" name="quantityImported" min="1" required>
    </span>
    <span id="type-span">
      <label>Type: </label>
      <select #type="ngModel" [(ngModel)]="product.type" name="type">
        <option value="" selected>Choose type</option>
        <option value="laptop">Laptop</option>
        <option value="tablet">Tablet</option>
        <option value="phone">Phone</option>
        <option value="watch">Watch</option>
        <option value="accessories">Accessories</option>
      </select>
    </span>
    <input #colors="ngModel" [(ngModel)]="product.colors" type="hidden" name="colors">
    <ul>
      <li *ngFor="let c of product.colors">
        <div [ngStyle]="{ 'background-color': c.value }" style="width: 50px; height: 50px;"></div>
        <p class="color" [ngStyle]="{ 'color': c.value }">{{ c.name }}</p>
        <a class="func-btn square-btn red-btn" title="Delete" (click)="onRemoveColor(c)">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 fa-3x"><path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>
        </a>
      </li>
      <form #colorForm="ngForm" (ngSubmit)="onColorSubmit(colorForm)">
        <label>Color: </label>
        <select #colorOption="ngModel" [(ngModel)]="color.option" name="option" required>
          <option value="" selected>Choose color</option>
          <option value="custom">Custom</option>"
          <option value="white" style="background-color: white; color: black;">White</option>
          <option value="silver" style="background-color: silver;">Silver</option>
          <option value="gray" style="background-color: gray;">Gray</option>
          <option value="black" style="background-color: black;">Black</option>
          <option value="red" style="background-color: red;">Red</option>
          <option value="maroon" style="background-color: maroon;">Maroon</option>
          <option value="yellow" style="background-color: yellow;">Yellow</option>
          <option value="olive" style="background-color: olive;">Olive</option>
          <option value="lime" style="background-color: lime;">Lime</option>
          <option value="green" style="background-color: green;">Green</option>
          <option value="aqua" style="background-color: aqua;">Aqua</option>
          <option value="teal" style="background-color: teal;">Teal</option>
          <option value="blue" style="background-color: blue;">Blue</option>
          <option value="navy" style="background-color: navy;">Navy</option>
          <option value="fuchsia" style="background-color: fuchsia;">Fuchsia</option>
          <option value="purple" style="background-color: purple;">Purple</option>
        </select>
        <button class="func-btn circle-btn yellow-btn" *ngIf="color.option !== 'custom'" type="submit" [disabled]="colorOption.errors?.required">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
        </button>
        <span *ngIf="color.option == 'custom'">
          <input #colorName="ngModel" [(ngModel)]="color.name" type="text" [ngStyle]="{ 'color': color.value }" name="name" placeholder="Name" required>
          <input #colorValue="ngModel" [(ngModel)]="color.value" type="color" name="value" placeholder="color" required>
          <button class="func-btn circle-btn yellow-btn" type="submit" [disabled]="colorName.errors?.required || colorValue.errors?.required">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
          </button>
        </span>
      </form>
    </ul>

    <input #capacitys="ngModel" [(ngModel)]="product.capacitys" type="hidden" name="capacitys">
    <form #capacityForm="ngForm" (ngSubmit)="onCapacitySubmit(capacityForm)">
      <table>
        <thead>
          <tr>
            <th colspan="3">Capacitys</th>
          </tr>
          <tr>
            <th>Size (GB)</th>
            <th>Price ($) </th>
            <th>Functions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let c of product.capacitys.sort()">
            <td>{{ c.size }}</td>
            <td *ngIf="c.price == 0">{{ c.price }}</td>
            <td *ngIf="c.price != 0">+{{ c.price }}</td>
            <td>
              <a class="func-btn two-func-btn square-btn blue-btn" title="Edit" (click)="onCapacityEdit(c)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="edit" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-edit fa-w-18 fa-3x"><path d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" class=""></path></svg>
              </a>
              <a class="func-btn square-btn red-btn" title="Delete" (click)="onRemoveCapacity(c)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 fa-3x"><path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>
              </a>
            </td>
          </tr>
          <tr>
            <td>
              <input #capacitySize="ngModel" [(ngModel)]="capacity.size" type="number" name="size" placeholder="Size" [pattern]="positiveNumberRegex" min="1" required>
            </td>
            <td>
              <input #capacityPrice="ngModel" [(ngModel)]="capacity.price" type="number" name="price" placeholder="Price" [pattern]="NotNegativeNumberRegex" min="0" required>
            </td>
            <td>
              <button class="func-btn circle-btn yellow-btn" title="Add" type="submit" [disabled]="capacitySize.errors?.required || capacityPrice.errors?.required || capacitySize.errors?.min || capacityPrice.errors?.min || capacitySize.errors?.pattern || capacityPrice.errors?.pattern">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </form>

    <input #technicalDetails="ngModel" [(ngModel)]="product.technicalDetails" type="hidden" name="technicalDetails">
    <form #technicalDetailsForm="ngForm" (ngSubmit)="onTechnicalDetailsSubmit(technicalDetailsForm)">
      <table>
        <thead>
          <tr>
            <th colspan="3">Technical Details</th>
          </tr>
          <tr>
            <th>Name</th>
            <th>Value</th>
            <th>Functions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let t of product.technicalDetails">
            <td>{{ t.name }}</td>
            <td>{{ t.value }}</td>
            <td>
              <a class="func-btn two-func-btn square-btn blue-btn" title="Edit" (click)="onTechnicalDetailEdit(t)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="edit" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-edit fa-w-18 fa-3x"><path d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" class=""></path></svg>
              </a>
              <a class="func-btn square-btn red-btn" title="Delete" (click)="onRemoveTechnicalDetail(t)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 fa-3x"><path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>
              </a>
            </td>
          </tr>
          <tr>
            <td>
              <input #technicalDetailName="ngModel" [(ngModel)]="technicalDetail.name" type="text" name="name" placeholder="Name" required>
            </td>
            <td>
              <input #technicalDetailValue="ngModel" [(ngModel)]="technicalDetail.value" type="text" name="value" placeholder="Value" required>
            </td>
            <td>
              <button class="func-btn circle-btn yellow-btn" title="Add" type="submit" [disabled]="technicalDetailName.errors?.required || technicalDetailValue.errors?.required">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </form>

    <input #descriptions="ngModel" [(ngModel)]="product.descriptions" type="hidden" name="descriptions">
    <form #descriptionForm="ngForm" (ngSubmit)="onDescriptionSubmit(descriptionForm)">
      <table>
        <thead>
          <tr>
            <th colspan="2">Descriptions</th>
          </tr>
          <tr>
            <th>Content</th>
            <th>Functions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let d of product.descriptions">
            <td>{{ d }}</td>
            <td>
              <a class="func-btn two-func-btn square-btn blue-btn" title="Edit" (click)="onDescriptionEdit(d)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="edit" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-edit fa-w-18 fa-3x"><path d="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z" class=""></path></svg>
              </a>
              <a class="func-btn square-btn red-btn" title="Delete" (click)="onRemoveDescription(d)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-trash fa-w-14 fa-3x"><path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" class=""></path></svg>
              </a>
            </td>
          </tr>
          <tr>
            <td>
              <input #newDescription="ngModel" [(ngModel)]="description" type="text" name="description" placeholder="Description" required>
            </td>
            <td>
              <button class="func-btn circle-btn yellow-btn" type="submit" [disabled]="newDescription.errors?.required">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </form>
    <ul>
      <li *ngFor="let d of product.descriptions">
        {{ d }}
      </li>
      <li>
        <form #descriptionForm="ngForm" (ngSubmit)="onDescriptionSubmit(descriptionForm)">
          <input #newDescription="ngModel" [(ngModel)]="description" type="text" name="description" placeholder="Description" required>
          <button class="func-btn circle-btn yellow-btn" type="submit" [disabled]="newDescription.errors?.required">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
          </button>
        </form>
      </li>
    </ul>

    <input type="submit" value="Save">
  </form>
  <div class="ls-body-div">
    <table class="list-table">
      <thead>
        <tr>
          <th colspan="7">USERS</th>
        </tr>
        <tr>
          <th>No.</th>
          <th>Avatar</th>
          <th colspan="2">Fullname</th>
          <th>Username</th>
          <th>Activated</th>
          <th>Functions</th>
        </tr>
      </thead>
      <tbody>
        <!-- <tr *ngFor="let p of products"> -->
          <!-- <td class="center-td">{{ users.indexOf(u) + 1 }}</td>
          <td class="center-td"><img src="{{ u.avatar }}" alt="{{ u.firstName }}'s avatar"></td>
          <td>{{ u.name.first }}</td>
          <td>{{ u.name.last }}</td>
          <td>{{ u.username }}</td>
          <td *ngIf="u.activated" class="center-td">✔</td>
          <td *ngIf="!u.activated" class="center-td">✘</td>
          <td>
            <button class="view-profile" title="View profile" (click)="viewProfile(u.username)">ⓘ</button>
            <button class="make-admin" title="Make admin" (click)="makeAdmin(u.username)">✪</button>
          </td> -->
        <!-- </tr> -->
      </tbody>
    </table>
  </div>
</section>