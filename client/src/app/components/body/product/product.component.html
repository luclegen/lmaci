<app-header></app-header>
<section>
  <div class="center-container top-container bottom-container">
    <h1>
      {{ product.name }}
      <span *ngIf="stars.average" class="star-bar">
        <span class="full-star">
          <svg *ngFor="let s of starCount" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
        </span>
        <span *ngIf="starHalf" class="star-half">  
          <svg aria-hidden="true" focusable="false" data-prefix="fad" data-icon="star-half" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star-half fa-w-18 fa-3x"><g class="fa-group"><path fill="silver" d="M545.3 226L439.6 329l25 145.5c4.5 26.1-23 46-46.4 33.7l-130.7-68.6V0a31.62 31.62 0 0 1 28.7 17.8l65.3 132.4 146.1 21.2c26.2 3.8 36.7 36.1 17.7 54.6z" class="fa-secondary"></path><path d="M110.4 474.5l25-145.5L29.7 226c-19-18.5-8.5-50.8 17.7-54.6l146.1-21.2 65.3-132.4A31.62 31.62 0 0 1 287.5 0v439.6l-130.7 68.6c-23.4 12.3-50.9-7.6-46.4-33.7z" class="fa-primary"></path></g></svg>
        </span>
        <span class="none-star">
          <svg *ngFor="let n of noneStarCount" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
        </span>
      </span>
      <a *ngIf="stars.total" [href]="type + '/' + id + '#reviews'">{{ stars.total }} reviews</a>
    </h1>
    <hr>
  </div>
</section>
<section class="horizontal top-content">
  <div class="left-container top-center">
    <div class="carousel-container">
      <button id="close-btn" (click)="closeGallery()">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
      </button>
      <div class="carousel-slide" (click)="showGallery()" (mouseenter)="showArrow()" (mouseleave)="hideArrow()" (transitionend)="moved()">
        <img *ngFor="let i of paths" [src]="i" [alt]="'Image ' + (paths.indexOf(i) + 1)">
        <img *ngIf="!paths.length" src="assets/img/carousel/A.png" alt="A">
        <img *ngIf="!paths.length" src="assets/img/carousel/B.png" alt="B">
        <img *ngIf="!paths.length" src="assets/img/carousel/C.png" alt="C">
      </div>
    
      <button id="prev-btn" (mouseenter)="showArrow()" (mouseleave)="hideArrow()" (click)="prev()">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 492 492" style="enable-background:new 0 0 492 492;" xml:space="preserve">
          <g>
            <g>
              <path d="M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12
                C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084
                c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864
                l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"/>
            </g>
          </g>
        </svg>
      </button>
      <button id="next-btn" (mouseenter)="showArrow()" (mouseleave)="hideArrow()" (click)="next()">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 492.004 492.004" style="enable-background:new 0 0 492.004 492.004;" xml:space="preserve">
          <g>
            <g>
              <path d="M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12
                c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028
                c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265
                c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"/>
            </g>
          </g>
        </svg>
      </button>
    </div>
    <div class="gallery-carousel-nav" (click)="selectImg($event)">
      <span class="gallery-frame">
        <img src="assets/img/carousel/Transparent.png" alt="Frame">
      </span>
      <img *ngFor="let i of paths" [src]="i" [alt]="'Image ' + (paths.indexOf(i) + 1)">
      <img *ngIf="!paths.length" src="assets/img/carousel/A.png" alt="A">
      <img *ngIf="!paths.length" src="assets/img/carousel/B.png" alt="B">
      <img *ngIf="!paths.length" src="assets/img/carousel/C.png" alt="C">
    </div>
  </div>
  <div class="right-container">
    <form class="left">
      <label class="attr"><strong>Price:</strong><label class="price"> {{ priceFormatted }}</label></label>
      <label *ngIf="preview.color.name" class="attr">
        <strong>Color:</strong> {{ preview.color.name }}
      </label>
      <div class="left">
        <div *ngFor="let c of product.colors" class="center vertical color-radio-container">
          <input #color="ngModel" [(ngModel)]="order.color.name" [value]="c.name" (ngModelChange)="onCheckColor(c)" (mouseenter)="previewColor(c)" (mouseleave)="resetColor()" type="radio" name="color">
          <span class="checkmark" [ngStyle]="{ 'background': c.value }"></span> 
        </div>
      </div>
      <div class="property-container" *ngFor="let p of product.properties">
        <label class="attr">
          <strong>{{ p.name }}:</strong> {{ preview.properties[product.properties.indexOf(p)].option.value }}
        </label>
        <div class="left">
          <div *ngFor="let o of p.options" class="property-radio-container">
            <input #propertyValue="ngModel" [(ngModel)]="order.properties[product.properties.indexOf(p)].option.value" [value]="o.value" (ngModelChange)="onCheckOption(product.properties.indexOf(p), o)" (mouseenter)="previewOption(product.properties.indexOf(p), o)" (mouseleave)="resetOption()" type="radio" [name]="helperService.toHTMLName(p.name)">
            <span class="option-checkmark">{{ o.value }}</span>
          </div>
        </div>
      </div>
    </form>
    <div class="jump-to-box left">
      <strong>Jump to: </strong>
      <a *ngIf="product.technicalDetails.length" [href]="type + '/' + id + '#technical-details'">Technical Details</a><p class="separator" *ngIf="product.technicalDetails.length">|</p>
      <a [href]="type + '/' + id + '#review'">Send Review</a><p class="separator">|</p>
      <a [href]="type + '/' + id + '#comment'">Send Comment</a><p class="separator">|</p>
      <a [href]="type + '/' + id + '#comments'">Comments</a>
    </div>
  </div>
</section>
<section *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin')">
  <div class="center-container">
    <details open>
      <summary>
        <strong>Slider Image Editor</strong>
        <button *ngIf="isSaveImgs()" class="btn square-btn yellow-btn" title="Save" type="button" (click)="saveSlider()">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="save" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-save fa-w-14 fa-3x"><path d="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z" class=""></path></svg>
        </button>
        <button *ngIf="isSaveImgs()" class="btn circle-btn red-btn" title="Cancel" type="button" (click)="cancelSaveSlider()">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
        </button>
      </summary>
      <div class="grid-container" cdkDropListGroup>
        <div cdkDropList [cdkDropListEnterPredicate]="dropListEnterPredicate" (cdkDropListDropped)="dropListDropped()"></div>
        <div cdkDropList *ngFor="let i of paths" [cdkDropListEnterPredicate]="dropListEnterPredicate" (cdkDropListDropped)="dropListDropped()">
          <div cdkDrag class="grid-box" (cdkDragMoved)="dragMoved($event)">
            <img [src]="i" [alt]="'Image ' + paths.indexOf(i)">
            <button class="func-btn circle-btn red-btn" title="Delete" type="button" (click)="delete($event)">
              <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
            </button>
          </div>
        </div>
      </div>
    </details>
  </div>
</section>
<section *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin')">
  <div class="left-container image-cropper-container">
    <span class="input-span inline-span">
      <label for="img">Choose an image file</label>
      <input #newImg="ngModel" [(ngModel)]="path" id="img" type="file" name="img" (change)="fileChangeEvent($event)" accept="image/*" required>
    </span>
    <image-cropper *ngIf="imageChangedEvent"
      [imageChangedEvent]="imageChangedEvent" 
      [maintainAspectRatio]="true" 
      [aspectRatio]="4 / 3"
      [resizeToWidth]="2048"
      [cropperMinWidth]="128"
      format="jpeg"
      (imageCropped)="imageCropped($event)" 
      [onlyScaleDown]="true">
    </image-cropper>
  </div>
  <div class="right-container cropped-image-container">
    <button type="button" class="btn circle-btn yellow-btn" title="Add" (click)="add()" [disabled]="!croppedImage">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-plus-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z" class=""></path></svg>
    </button>
    <button *ngIf="croppedImage" type="button" class="btn circle-btn red-btn" title="Cancel" (click)="cancel()">
      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
    </button>
    <img [src]="croppedImage" />
  </div>
</section>
<section *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin')">
  <div class="center-container">
    <details open>
      <summary>
        <strong>Post Editor</strong>
        <button *ngIf="isSavePost()" class="btn square-btn yellow-btn" title="Save" type="button" (click)="savePost()">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="save" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-save fa-w-14 fa-3x"><path d="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z" class=""></path></svg>
        </button>
        <button *ngIf="isSavePost()" class="btn circle-btn red-btn" title="Cancel" type="button" (click)="cancelSavePost()">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
        </button>
      </summary>
      <ejs-richtexteditor #content="ngModel" [(ngModel)]="post.content" [toolbarSettings]='tools' [insertImageSettings]='imageSettings'>
      </ejs-richtexteditor>
    </details>
  </div>
</section>
<section>
  <div class="center-container">
    <hr>
  </div>
</section>
<section>
  <article *ngIf="product.post" class="center-container" id="post-container"></article>
</section>
<section *ngIf="product.technicalDetails.length">
  <div class="center-container">
    <hr>
    <table class="ls-table property-table">
      <thead>
        <tr>
          <th id="technical-details" colspan="2">Technical Details</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let t of product.technicalDetails">
          <td>{{ t.name }} </td>
          <td>{{ t.value }} </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
<section>
  <div class="center-container">
    <hr>
    <h1 *ngIf="stars.total" id="reviews">{{ stars.total }} reviews</h1>
    <div *ngIf="stars.total" class="horizontal">
      <div class="center star-average-box">
        <strong>{{ stars.average }}</strong>
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
      </div>
      <div class="vertical num-star-container">
        <span *ngFor="let s of stars.star" class="horizontal num-star-bar">
          {{ s.index }}
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
          <meter [max]="stars.total" [value]="s.count"></meter>
        </span>
      </div>
      <nav class="star-nav">
        <span *ngFor="let s of stars.star">
          <a *ngIf="s.count" class="horizontal" (click)="filterStar(s)"><strong>{{ s.count }}</strong>review<p *ngIf="s.count > 1">s</p></a>
          <p *ngIf="!s.count"><strong>{{ s.count }}</strong></p>
        </span>
      </nav>
    </div>
    <div>
      <h2 id="review">Your Review</h2>
      <form #reviewForm="ngForm" class="left" (ngSubmit)="sendReview()">
        <span class="rating">
          <span *ngFor="let s of [ 1, 2, 3, 4, 5 ]" class="star" (click)="tickStar(s)" (mouseenter)="previewStar(s)" (mouseleave)="resetStar()">
            <input #star="ngModel" [(ngModel)]="review.star" type="radio" class="star-in" name="rating" [value]="s" />
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
          </span>
          <label id="rating-msg"></label>
        </span>
        <textarea *ngIf="review.star" #content="ngModel" [(ngModel)]="review.content" name="content" cols="30" rows="5" placeholder="Your review"></textarea>
        <span *ngIf="review.star" class="func-bar">
          <span>
            <label class="img-in" title="Attach images" for="aside-img" (mouseenter)="enterReviewCamera()" (mouseleave)="leaveReviewCamera()">
              ⬛
            </label>
            <button class="btn square-btn blue-btn" id="review-camera" for="aside-img" type="button">
              <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="camera" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-camera fa-w-16 fa-3x"><path d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z" class=""></path></svg>
            </button>
            <input #newImg="ngModel" [(ngModel)]="review.img" id="aside-img" type="file" accept="image/*" name="img" (change)="selectReviewFileInput($event.target.files)" multiple>
          </span>
          <button class="btn right-btn square-btn blue-btn" type="submit" title="Send" [disabled]="!review.content || !review.star">
            <svg class="sqpo3gyd" height="20px" width="20px" viewBox="0 0 24 24"><path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z" fill-rule="evenodd" stroke="none"></path></svg>
          </button>
        </span>
        <span *ngIf="review.star" class="review-imgs-bar">
          <span *ngFor="let i of review.imgs">
            <img [src]="i" [alt]="'Image ' + (review.imgs.indexOf(i) + 1)">
            <button class="func-btn circle-btn red-btn" type="button" title="Delete" (click)="deleteReviewImg($event)">
              <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
            </button>
          </span>
        </span>
      </form>
    </div>
  </div>
</section>
<section>
  <div class="center-container">
    <h2 *ngIf="indexStar">{{ indexStar }} star | <a (click)="showReviews()">See all reviews</a></h2>
    <ul class="reviews-ls">
      <li *ngFor="let r of reviews">
        <span class="inline user">
          <a *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == r.user.username)" [href]="r.user.username">
            <img [src]="r.user.avatar" [alt]="r.user.name?.first + '\'s avatar'">
            {{ r.user.fullName }}
          </a>
          <p *ngIf="!userDetails || userDetails.role == 'user' && userDetails.username != r.user.username">
            <img [src]="r.user.avatar" [alt]="r.user.name?.first + '\'s avatar'">
            {{ r.user.fullName }}
          </p>
          <button *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == r.user.username)" class="func-btn two-func-btn circle-btn red-btn" title="Delete" type="button" (click)="deleteReview(r)">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
          </button>
        </span>
        <span *ngIf="stars.average" class="sub-star-bar">
          <span class="full-star">
            <svg *ngFor="let c of r.stars?.count" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
          </span>
          <span class="none-star">
            <svg *ngFor="let n of r.stars?.none" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
          </span>
        </span>
        {{ r.content }}
        <span *ngIf="r.imgs.length" class="imgs-bar">
          <span *ngFor="let i of r.imgs">
            <img [src]="i" [alt]="'Image ' + (r.imgs.indexOf(i) + 1)" (click)="showAsideGallery($event, r)">
          </span>
        </span>
      </li>
    </ul>
  </div>
</section>
<section>
  <div class="center-container">
    <hr>
    <h1 id="comments">Comments</h1>
    <ul class="cmts-ls">
      <li *ngFor="let c of comments">
        <span class="inline user">
          <a *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == c.user.username)" [href]="c.user.username">
            <img [src]="c.user.avatar" [alt]="c.user.name?.first + '\'s avatar'">
            {{ c.user.fullName }}
          </a>
          <p *ngIf="!userDetails || userDetails.role == 'user' && userDetails.username != c.user.username">
            <img [src]="c.user.avatar" [alt]="c.user.name?.first + '\'s avatar'">
            {{ c.user.fullName }}
          </p>
          <button *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == c.user.username)" class="func-btn two-func-btn circle-btn red-btn" title="Delete" type="button" (click)="deleteComment(c)">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
          </button>
        </span>
        <p>{{ c.content }}</p>
        <span *ngIf="c.imgs.length" class="imgs-bar">
          <span *ngFor="let i of c.imgs">
            <img [src]="i" [alt]="'Image ' + (c.imgs.indexOf(i) + 1)" (click)="showAsideGallery($event, c)">
          </span>
        </span>
        <span class="interact">
          <button class="reply" type="button" (click)="reply(c)">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-reply fa-w-16 fa-3x"><path d="M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z" class=""></path></svg>
            Reply
          </button>
        </span>
        <ul *ngIf="c.answers && c.answers.length" class="answer-ls">
          <li *ngFor="let a of c.answers">
            <span class="inline user">
              <a *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == a.user.username)" [href]="a.user.username">
                <img [src]="a.user.avatar" [alt]="a.user.name?.first + '\'s avatar'">
                {{ a.user.fullName }}
              </a>
              <p *ngIf="!userDetails || userDetails.role == 'user' && userDetails.username != a.user.username">
                <img [src]="a.user.avatar" [alt]="a.user.name?.first + '\'s avatar'">
                {{ a.user.fullName }}
              </p>
              <button *ngIf="userDetails && (userDetails.role == 'root' || userDetails.role == 'admin' || userDetails.username == a.user.username)" class="func-btn two-func-btn circle-btn red-btn" title="Delete" type="button" (click)="deleteAnswer(a, c)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
              </button>
            </span>
            <p>{{ a.content }}</p>
            <span *ngIf="a.imgs.length" class="imgs-bar">
              <span *ngFor="let i of a.imgs">
                <img [src]="i" [alt]="'Image ' + (a.imgs.indexOf(i) + 1)" (click)="showAsideGallery($event, a)">
              </span>
            </span>
            <span class="interact">
              <button class="like" type="button">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-thumbs-up fa-w-16 fa-3x"><path d="M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z" class=""></path></svg>
                Like
              </button>
              <button class="reply" type="button" (click)="reply(c)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="reply" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-reply fa-w-16 fa-3x"><path d="M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z" class=""></path></svg>
                Reply
              </button>
            </span>
          </li>
        </ul>
        <h2 *ngIf="indexAnswer == c.index">Your answer</h2>
        <form *ngIf="indexAnswer == c.index" #replyForm="ngForm" class="left" (ngSubmit)="sendAnswer(c)">
          <textarea #content="ngModel" [(ngModel)]="answer.content" name="content" cols="30" rows="5" placeholder="Your answer"></textarea>
          <span class="func-bar">
            <span>
              <label class="img-in" title="Attach images" for="reply-img" (mouseenter)="enterReplyCamera()" (mouseleave)="leaveReplyCamera()">
                ⬛
              </label>
              <button class="btn square-btn blue-btn" id="reply-camera" for="reply-img" type="button">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="camera" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-camera fa-w-16 fa-3x"><path d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z" class=""></path></svg>
              </button>
              <input #newImg="ngModel" [(ngModel)]="answer.img" id="reply-img" type="file" accept="image/*" name="img" (change)="selectReplyFileInput($event.target.files)" multiple>
            </span>
            <button class="btn right-btn square-btn blue-btn" type="submit" title="Send" [disabled]="!answer.content">
              <svg class="sqpo3gyd" height="20px" width="20px" viewBox="0 0 24 24"><path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z" fill-rule="evenodd" stroke="none"></path></svg>
            </button>
          </span>
          <span class="reply-imgs-bar">
            <span *ngFor="let i of answer.imgs">
              <img [src]="i" [alt]="'Image ' + (answer.imgs.indexOf(i) + 1)">
              <button class="func-btn circle-btn red-btn" type="button" title="Delete" (click)="deleteReplyImg($event)">
                <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
              </button>
            </span>
          </span>
        </form>
      </li>
    </ul>
    <h2 id="comment">Your Comment</h2>
    <form #commentForm="ngForm" class="left" (ngSubmit)="sendComment()">
      <textarea #content="ngModel" [(ngModel)]="comment.content" name="content" cols="30" rows="5" placeholder="Your comment"></textarea>
      <span class="func-bar">
        <span>
          <label class="img-in" title="Attach images" for="cmt-img" (mouseenter)="enterCommentCamera()" (mouseleave)="leaveCommentCamera()">
            ⬛
          </label>
          <button class="btn square-btn blue-btn" id="cmt-camera" for="cmt-img" type="button">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="camera" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-camera fa-w-16 fa-3x"><path d="M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z" class=""></path></svg>
          </button>
          <input #newImg="ngModel" [(ngModel)]="comment.img" id="cmt-img" type="file" accept="image/*" name="img" (change)="selectCommentFileInput($event.target.files)" multiple>
        </span>
        <button class="btn right-btn square-btn blue-btn" type="submit" title="Send" [disabled]="!comment.content">
          <svg class="sqpo3gyd" height="20px" width="20px" viewBox="0 0 24 24"><path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z" fill-rule="evenodd" stroke="none"></path></svg>
        </button>
      </span>
      <span class="cmt-imgs-bar">
        <span *ngFor="let i of comment.imgs">
          <img [src]="i" [alt]="'Image ' + (comment.imgs.indexOf(i) + 1)">
          <button class="func-btn circle-btn red-btn" type="button" title="Delete" (click)="deleteCommentImg($event)">
            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
          </button>
        </span>
      </span>
    </form>
  </div>
</section>
<section>
  <div id="aside-gallery-container">
    <div class="aside-carousel-container" (mouseenter)="showAsideArrow()" (mouseleave)="hideAsideArrow()">
      <button id="aside-close-btn" (click)="closeAsideGallery()">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times-circle" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-times-circle fa-w-16 fa-3x"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z" class=""></path></svg>
      </button>
      <div *ngFor="let i of asideGallery.imgs" class="aside-carousel-slide" (transitionend)="asideMoved()">
        <div class="aside-carousel-img-box">
          <img class="aside-carousel-img" [src]="i" [alt]="'Image ' + (asideGallery.imgs.indexOf(i) + 1)">
        </div>
      </div>
      
      <button id="aside-prev-btn" (click)="asidePrev()">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 492 492" style="enable-background:new 0 0 492 492;" xml:space="preserve">
          <g>
            <g>
              <path d="M198.608,246.104L382.664,62.04c5.068-5.056,7.856-11.816,7.856-19.024c0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12
                C361.476,2.792,354.712,0,347.504,0s-13.964,2.792-19.028,7.864L109.328,227.008c-5.084,5.08-7.868,11.868-7.848,19.084
                c-0.02,7.248,2.76,14.028,7.848,19.112l218.944,218.932c5.064,5.072,11.82,7.864,19.032,7.864c7.208,0,13.964-2.792,19.032-7.864
                l16.124-16.12c10.492-10.492,10.492-27.572,0-38.06L198.608,246.104z"/>
            </g>
          </g>
        </svg>
      </button>
      <button id="aside-next-btn" (click)="asideNext()">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          viewBox="0 0 492.004 492.004" style="enable-background:new 0 0 492.004 492.004;" xml:space="preserve">
          <g>
            <g>
              <path d="M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12
                c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028
                c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265
                c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"/>
            </g>
          </g>
        </svg>
      </button>
      <div class="aside-gallery-carousel-nav" (click)="selectAsideImg($event)">
        <span class="aside-gallery-frame">
          <img src="assets/img/carousel/Transparent.png" alt="Frame">
        </span>
        <img *ngFor="let i of asideGallery.imgs" [src]="i" [alt]="'Image ' + (asideGallery.imgs.indexOf(i) + 1)">
      </div>
    </div>
    <div class="aside-container">
      <span *ngIf="stars.average" class="sub-star-bar">
        <span class="full-star">
          <svg *ngFor="let c of asideGallery.stars?.count" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
        </span>
        <span class="none-star">
          <svg *ngFor="let n of asideGallery.stars?.none" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="svg-inline--fa fa-star fa-w-18 fa-3x"><path d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" class=""></path></svg>
        </span>
      </span>
      {{ asideGallery.content }}
    </div>
  </div>
</section>